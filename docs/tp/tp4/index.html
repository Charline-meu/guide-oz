<!doctype html><html lang=en dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Séance 4 #  Question 1 #   cf. Slide 4-6 cours 4  Question 2 #  declare fun {MakeMulFilter N} fun {$ I} I mod N == 0 end end fun {IsPrime N} fun {IsPrimeAcc N Acc} if N =<1 then false elseif N==Acc then true else if {{MakeMulFilter Acc} N} then false else {IsPrimeAcc N Acc+1} end end end in {IsPrimeAcc N 2} end fun {Filter L F} fun {FilterAcc L F Acc} case L of nil then Acc [] H|T then if {F H} then {FilterAcc T F H|Acc} else {FilterAcc T F Acc} end end end in {FilterAcc L F nil} end Digits = [0 1 2 3 4 5 6 7 8 9] MultipleOf2 = {MakeMulFilter 2} MultipleOf3 = {MakeMulFilter 3} % Le résultat est dans l'ordre inverse parce que j'ai utilisé un accumulateur % Vous pouvez soit ne pas en utiliser, soit faire un {List.">
<meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Séance 4">
<meta property="og:description" content="Séance 4 #  Question 1 #   cf. Slide 4-6 cours 4  Question 2 #  declare fun {MakeMulFilter N} fun {$ I} I mod N == 0 end end fun {IsPrime N} fun {IsPrimeAcc N Acc} if N =<1 then false elseif N==Acc then true else if {{MakeMulFilter Acc} N} then false else {IsPrimeAcc N Acc+1} end end end in {IsPrimeAcc N 2} end fun {Filter L F} fun {FilterAcc L F Acc} case L of nil then Acc [] H|T then if {F H} then {FilterAcc T F H|Acc} else {FilterAcc T F Acc} end end end in {FilterAcc L F nil} end Digits = [0 1 2 3 4 5 6 7 8 9] MultipleOf2 = {MakeMulFilter 2} MultipleOf3 = {MakeMulFilter 3} % Le résultat est dans l'ordre inverse parce que j'ai utilisé un accumulateur % Vous pouvez soit ne pas en utiliser, soit faire un {List.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ahzed11.github.io/guide-oz/docs/tp/tp4/"><meta property="article:section" content="docs">
<meta property="article:published_time" content="2022-02-22T15:40:34+01:00">
<meta property="article:modified_time" content="2022-02-22T15:40:34+01:00"><meta property="og:site_name" content="Guide OZ">
<title>Séance 4 | Guide OZ</title><link rel=manifest href=/guide-oz/manifest.json>
<link rel=icon href=/guide-oz/favicon.png type=image/x-icon>
<link rel=stylesheet href=/guide-oz/book.min.87312a22c120b2e99e4dbec51f671dd6b1cb0bed3b12a909c39a0aa981eb5a8f.css integrity="sha256-hzEqIsEgsumeTb7FH2cd1rHLC+07EqkJw5oKqYHrWo8=" crossorigin=anonymous>
<script defer src=/guide-oz/flexsearch.min.js></script>
<script defer src=/guide-oz/en.search.min.bdf72c664f1b8e0beda1f425286fed3c47d2dc2b73c6563815bfb6c71155c08c.js integrity="sha256-vfcsZk8bjgvtofQlKG/tPEfS3CtzxlY4Fb+2xxFVwIw=" crossorigin=anonymous></script>
<link rel=stylesheet href=https://ahzed11.github.io/guide-oz/css/prism.css>
<script type=text/javascript src=https://ahzed11.github.io/guide-oz/js/prism.js></script>
</head><body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a class="flex align-center" href=/guide-oz/><span>Guide OZ</span>
</a>
</h2><div class=book-search>
<input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/>
<div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul>
<li>
<a href=https://ahzed11.github.io/guide-oz/docs/installation/>Installation de Mozart2</a>
<ul>
<li>
<a href=https://ahzed11.github.io/guide-oz/docs/installation/vscode/>VSCode</a>
</li><li>
<a href=https://ahzed11.github.io/guide-oz/docs/installation/windows/>Windows</a>
</li><li>
<a href=https://ahzed11.github.io/guide-oz/docs/installation/macos/>Macos</a>
</li><li>
<a href=https://ahzed11.github.io/guide-oz/docs/installation/linux/>Linux</a>
</li></ul></li><li>
<a href=https://ahzed11.github.io/guide-oz/docs/tp/>TP</a>
<ul>
<li>
<a href=https://ahzed11.github.io/guide-oz/docs/tp/tp1/>Séance 1</a>
</li><li>
<a href=https://ahzed11.github.io/guide-oz/docs/tp/tp2/>Séance 2</a>
</li><li>
<a href=https://ahzed11.github.io/guide-oz/docs/tp/tp3/>Séance 3</a>
</li><li>
<a href=https://ahzed11.github.io/guide-oz/docs/tp/tp4/ class=active>Séance 4</a>
</li><li>
<a href=https://ahzed11.github.io/guide-oz/docs/tp/tp5/>Séance 5</a>
</li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div></aside><div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/guide-oz/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>Séance 4</strong>
<label for=toc-control>
<img src=/guide-oz/svg/toc.svg class=book-icon alt="Table of Contents">
</label>
</div><aside class="hidden clearfix">
<nav id=TableOfContents>
<ul>
<li><a href=#question-1>Question 1</a></li><li><a href=#question-2>Question 2</a></li><li><a href=#question-3>Question 3</a></li><li><a href=#question-4>Question 4</a></li><li><a href=#question-5>Question 5</a></li><li><a href=#question-6>Question 6</a></li><li><a href=#question-7>Question 7</a></li></ul></nav></aside></header><article class=markdown><h1 id=séance-4>
Séance 4
<a class=anchor href=#s%c3%a9ance-4>#</a>
</h1><h2 id=question-1>
Question 1
<a class=anchor href=#question-1>#</a>
</h2><ul>
<li>cf. Slide 4-6 cours 4</li></ul><h2 id=question-2>
Question 2
<a class=anchor href=#question-2>#</a>
</h2><pre tabindex=0><code class=language-oz data-lang=oz>declare 
fun {MakeMulFilter N}
   fun {$ I} I mod N == 0 end 
end

fun {IsPrime N} 
    fun {IsPrimeAcc N Acc} 
        if N =&lt;1 then false 
        elseif N==Acc then true 
        else 
            if {{MakeMulFilter Acc} N} then false 
            else {IsPrimeAcc N Acc+1} 
            end 
        end 
    end 
in 
    {IsPrimeAcc N 2} 
end

fun {Filter L F}
    fun {FilterAcc L F Acc}
        case L of nil then Acc
        [] H|T then 
            if {F H} then {FilterAcc T F H|Acc}
            else {FilterAcc T F Acc}
            end
        end
    end
in
    {FilterAcc L F nil}
end

Digits = [0 1 2 3 4 5 6 7 8 9]
MultipleOf2 = {MakeMulFilter 2}
MultipleOf3 = {MakeMulFilter 3}

% Le résultat est dans l&#39;ordre inverse parce que j&#39;ai utilisé un accumulateur
% Vous pouvez soit ne pas en utiliser, soit faire un {List.reverse L} pour ravoir le bon ordre
% Ici on ne précisait pas de garder l&#39;ordre donc je ne me suis pas tracassé
{Browse {Filter Digits MultipleOf2}}
{Browse {Filter Digits MultipleOf3}}
{Browse {Filter Digits IsPrime}}
</code></pre><h2 id=question-3>
Question 3
<a class=anchor href=#question-3>#</a>
</h2><pre tabindex=0><code class=language-oz data-lang=oz>declare 
fun {FoldL L F A}
    case L of nil then A
    [] H|T then {FoldL T F {F H A}}
    end
end

fun {MultiplyList L}
    {FoldL L fun {$ X Y} X*Y end 1}
end

fun {SubstractList L}
    {FoldL L fun {$ X Y} Y-X end 0}
end

Digits = [1 2 3 4 5 6 7 8 9]
Brr = [1 2 3 4]
{Browse {MultiplyList Digits}}
{Browse {DiffList Brr}}
</code></pre><h2 id=question-4>
Question 4
<a class=anchor href=#question-4>#</a>
</h2><pre tabindex=0><code class=language-oz data-lang=oz>declare 
fun {Applique L F} 
   case L of nil then nil 
   [] H|T then {F H}|{Applique T F}
   end 
end 

fun {Pow N E} 
   fun {Pow N E Acc}
      case E of 0 then Acc
      else {Pow N E-1 N*Acc} 
      end 
   end
in
   {Pow N E 1}
end 

fun {PowE E} 
   fun {$ N} 
      {Pow N E} 
   end 
end

fun {PowList L E} 
   {Applique L {PowE E}} 
end 

{Browse {PowList [1 2 3] 2}} 
</code></pre><h2 id=question-5>
Question 5
<a class=anchor href=#question-5>#</a>
</h2><pre tabindex=0><code class=language-oz data-lang=oz>declare
fun {Convertir T V}
   T*V
end

fun {ConvertirBetter T}
   fun {$ V}
      T*V
   end
end

fun {ConvertirBetter2 A B}
   fun {$ V}
      A*V+B
   end
end


PiedVersMetre = {ConvertirBetter 0.30480370641307}
FarenheitToCelcius = {ConvertirBetter2 0.56 ~17.78}
{Browse {PiedVersMetre 3.0}}
{Browse {FarenheitToCelcius 3.0}}
</code></pre><h2 id=question-6>
Question 6
<a class=anchor href=#question-6>#</a>
</h2><pre tabindex=0><code class=language-oz data-lang=oz>declare
fun {PipeLine N}
   P1 P2 P3 in
   P1 = {GenerateList N}
   P2 = {MyFilter P1 fun {$ X} X mod 2 \= 0 end}
   P3 = {MyMap P2 fun {$ X} X * X end}
   {MyFoldL P3 fun {$ Acc X} X + Acc end 0}
end

fun {GenerateList N}
   fun {GenerateListAcc N Acc} 
      case N of 0 then Acc
      else {GenerateListAcc N-1 N|Acc}
      end
   end 
in 
   {GenerateListAcc N nil} 
end

fun {MyFilter L F}
   fun {FilterAcc L F Acc}
       case L of nil then Acc
       [] H|T then 
           if {F H} then {FilterAcc T F H|Acc}
           else {FilterAcc T F Acc}
           end
       end
   end
in
   {FilterAcc L F nil}
end

fun {MyMap L F} 
   fun {MyMapAcc L F A}
      case L of nil then A
      [] H|T then {MyMapAcc T F {F H}|A}
      end
   end
in
   {MyMapAcc L F nil}
end 

fun {MyFoldL L F Acc} 
   case L 
   of nil then Acc
   [] H|T then {MyFoldL T F {F Acc H}}  
   end 
end 

{Browse {PipeLine 10}}
</code></pre><h2 id=question-7>
Question 7
<a class=anchor href=#question-7>#</a>
</h2><pre tabindex=0><code class=language-oz data-lang=oz>local Y LB in
   Y=10
   proc {LB X ?Z}
      if X&gt;=Y then Z=X
      else Z=Y end
   end
   local Y=15 Z in
      {LB 5 Z}
      % Affiche 1O car le Y utilisé par LB est celui
      % de son contexte pas de celui où LB est appelé
      {Browse Z} 
   end
end
</code></pre></article><footer class=book-footer>
<div class="flex flex-wrap justify-between">
</div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>
</footer><div class=book-comments>
</div><label for=menu-control class="hidden book-menu-overlay"></label>
</div><aside class=book-toc>
<div class=book-toc-content>
<nav id=TableOfContents>
<ul>
<li><a href=#question-1>Question 1</a></li><li><a href=#question-2>Question 2</a></li><li><a href=#question-3>Question 3</a></li><li><a href=#question-4>Question 4</a></li><li><a href=#question-5>Question 5</a></li><li><a href=#question-6>Question 6</a></li><li><a href=#question-7>Question 7</a></li></ul></nav></div></aside></main></body></html>